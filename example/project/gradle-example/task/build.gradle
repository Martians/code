
// https://www.w3cschool.cn/gradle/ms7n1hu2.html
task hello {
	doLast {
		println 'Hello world!'
	}
	ext.myProperty = "myValue"
}

task hello2 << {
	println 'Hello world! - 2'
}

///////////////////////////////////////////////////////////////////////////////////////
// 闭包方式写法，相当于doLast
task work << {
	println 'work - main task do last'
}

// doLast可以有多个
work << {
	println 'work - do last -1'
}

// doLast可以有多个
work.doLast {
    println 'work - do last -2'
}

// task的依赖-1
task news(dependsOn: hello) << {
	println 'depend on hello'
}

// task的依赖-2
work.dependsOn news


// 设置属性访问
task attr << {
	// 访问默认属性，这里要使用双引号，单引号不会进行宏转换
    println "work name: $work.name"

    // 访问自定义属性
    println 'hello attr: ' + hello.myProperty
}

// 设置默认任务
defaultTasks 'hello', 'hello2'

/*
gradle -q hellp
gradle -q news
gradle -q work
gradle -q attr
gradle -q

*/
