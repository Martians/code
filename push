#!/bin/sh

# result=a
# if [[ "$result" != "" ]]; then
# 	echo "git modify"
# else
# 	echo "nithong"
# fi
# exit 0

git_modify() {
	result='git st -s'
	echo "$result"
	if [[ "$result" != "" ]]; then
		echo "git modify"
		return 1
	else
		return 0
	fi
}

git_cache() {
	git diff --cached --quiet
	return $?
}

git_commit() {
	git diff origin/master --quiet
	return $?
}

git_push() {
	echo "3"
}

if git_modify; then
	echo "11"
fi	


exit 0
# not in code dir; $1 used for prevent from endless loop 
if [ -e ../code/push ] && ! [[ `pwd` =~ .*code$ ]] && [[ $1 != 1 ]]; then
	sh ../code/push 1
else
	git add -A .

	# 1) some data in cache 2) change commit, but have not pushed
	if !(git diff --cached --quiet && git diff origin/master --quiet); then
		git ci -m "fix" && git push origin master:master
	fi
fi
